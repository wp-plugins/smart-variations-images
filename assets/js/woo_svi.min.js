if(WOOSVI){if(WOOSVI&&"object"!=typeof WOOSVI)throw new Error("WOOSVI is not an Object type")}else var WOOSVI={};WOOSVI.isLoaded=!1,WOOSVI.STARTS=function(i){return{NAME:"Application initialize module",VERSION:.4,init:function(){this.loadInits(),this.galleryPopulate(),this.galleryProduct(),this.galleryDefault(),this.imgGal(),this.resetVariation()},loadInits:function(){i("div.woosvi_images").length>0&&i("body.single-product div.product div.images").remove()},resetVariation:function(){i("form.variations_form").on("click",".reset_variations",function(i){setTimeout(function(){WOOSVI.STARTS.galleryPopulate(),WOOSVI.STARTS.redomainimage()},300)})},galleryProduct:function(){i("div.woosvi_images .thumbnails a[rel^='prettyPhoto'], div.images .thumbnails a.zoom").unbind("click").on("click",function(i){i.preventDefault()}),i(".thumbnails a").on("click",function(e){e.preventDefault(),i(".thumbnails img").removeClass("current_p_thumb"),i(this).find("img").addClass("current_p_thumb");var t=i(this).attr("href");i(".woocommerce-main-image img").attr("src",t),i("div.woosvi_images.woosvilens").length>0&&WOOSVI.STARTS.imgGalreset(t)})},galleryPopulate:function(){var e,t,a;e=i("div.woosvi_images a:visible img:eq(0),div.images :visible img:eq(0)").data("woovsi"),console.log(e),"undefined"!=typeof e&&(a=1,i("div.woosvi_images div.thumbnails a,div.images div.thumbnails a").each(function(s,o){i(this).find("img").removeClass("current_p_thumb"),t=i(this).find("img").data("woovsi").toLowerCase(),t===e&&""!==t?(i(this).show(),i(this).removeClass("last"),1===a&&(i(this).addClass("first"),i(this).find("img").addClass("current_p_thumb"),a+=1)):(i(this).find("img").removeClass("current_p_thumb"),i(this).hide())}))},galleryDefault:function(){var e,t,a=i("div.woosvi_images img:eq(0),div.images img:eq(0)").height()+"px",s=i("div.woosvi_images img:eq(0),div.images img:eq(0)").width()+"px";i("a.woocommerce-main-image").css("display","inline-block").height(a).width(s),i(".variations select").bind("change"),i(".woosvi_images .thumbnails.hidden").removeClass("hidden"),i("form.variations_form").on("change",".variations select",function(a){a.preventDefault(),e=i(this).val(),""!==e&&i('a>img[data-woovsi="'+e+'"]').length>0?(t=1,i("div.woosvi_images img:eq(0),div.images img:eq(0)").fadeOut("fast"),i("div.woosvi_images div.thumbnails a,div.images div.thumbnails a").each(function(a,s){var o=i(this).find("img").data("woovsi").toLowerCase();if(i(this).removeClass("last").removeClass("first"),o===e){if(1===t){i(this).addClass("first");var m=i(this).attr("href"),r=i(this).attr("href"),n=i(this).find("img").data("woovsi").toLowerCase();i(this).find("img").addClass("current_p_thumb");var g={image_src:m,image_link:r,image_title:n};setTimeout(function(){WOOSVI.STARTS.swap_image(g)},100),t+=1}i(this).show()}else i(this).find("img").removeClass("current_p_thumb"),i(this).hide()})):""!==e&&WOOSVI.STARTS.redomainimage()})},redomainimage:function(){i("div.woosvi_images img:eq(0),div.images img:eq(0)").fadeOut(),$color=i("div.woosvi_images div.thumbnails a img.current_p_thumb,div.images div.thumbnails a img.current_p_thumb").data("woovsi");var e=i("div.woosvi_images div.thumbnails a img.current_p_thumb,div.images div.thumbnails a img.current_p_thumb").closest("a").attr("href"),t=i("div.woosvi_images div.thumbnails a img.current_p_thumb,div.images div.thumbnails a img.current_p_thumb").closest("a").attr("href"),a=$color,s={image_src:e,image_link:t,image_title:a};setTimeout(function(){WOOSVI.STARTS.swap_image(s)},100)},swap_image:function(e){var t=i("div.woosvi_images img:eq(0),div.images img:eq(0)"),a=i("div.woosvi_images a:eq(0),div.images a:eq(0)"),s=i(t).attr("data-o_src"),o=i(t).attr("data-o_title"),m=i(a).attr("data-o_href"),r=e.image_src,n=e.image_link,g=e.image_title;s||i(t).attr("data-o_src",i(t).attr("src")),o||i(t).attr("data-o_title",i(t).attr("title")),m||i(a).attr("data-o_href",i(a).attr("href"));var l=(new Date).getTime();i(t).attr("src",r+"?"+l),i(t).attr("title",g),i(t).attr("alt",g),i(a).attr("href",n+"?"+l),i(a).attr("title",g),i("div.woosvi_images img:eq(0),div.images img:eq(0)").fadeIn(),i("div.woosvi_images.woosvilens").length>0&&WOOSVI.STARTS.imgGalreset(r)},imgGal:function(){i("div.woosvi_images.woosvilens").length>0&&i("div.woosvi_images img:eq(0)").elevateZoom({zoomType:"lens",lensShape:"round",lensSize:200,galleryActiveClass:"current_p_thumb",gallery:"div.woosvi_images div.thumbnails"})},imgGalreset:function(e){var t=i("div.woosvi_images img:eq(0)").data("elevateZoom");t.swaptheimage(e,e)}}}(jQuery),jQuery(document).ready(function(){WOOSVI.STARTS.init()});